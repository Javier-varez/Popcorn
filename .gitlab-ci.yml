stages:
    - build

build-elf:
    image: javiervarez/ate_builder:latest
    tags:
        - arm-none-eabi
    stage: build
    script:
        - time make -j
    artifacts:
        paths: ["build/targets/stm32f1_fw.elf", "build/targets/stm32f1_fw.elf.map"]
        expire_in: 1 week
        name: "stm32f1_fw"

variables:
    GIT_SUBMODULE_STRATEGY: recursive
